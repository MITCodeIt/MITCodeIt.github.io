
<!doctype html>

<html>
<head>
  <meta name="viewport" content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes">
  <meta name="theme-color" content="#4F7DC9">
  <meta charset="UTF-8">
  <title>Micro:bit Python Codelab</title>
  <script src="../scratch/bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
  <link rel="import" href="../scratch/elements/codelab.html">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono">
  <link rel="icon" href="../scratch/elements/favicon.png">
  <style>
    body {
      font-family: "Roboto",sans-serif;
    }
  </style>

</head>
<body unresolved class="fullbleed">

  <google-codelab title="Micro:bit with Python!" feedback-link="https://goo.gl/forms/9zDi1V3arg167lIY2">

      <google-codelab-step label="Overview">
        <p>In today's class, we'll learn how to use Python to control our micro:bits. This is super awesome because it lets us do a few things:</p>
        <ul class="checklist">
          <li>Learn basic Python.</li>
          <li>Practice the algorithmic thinking we used in Scratch by applying it to a different language.</li>
          <li>Explore more possibilities of the micro:bit.</li>
        </ul>

      </google-codelab-step>

      <google-codelab-step label="Join the CodeIt Classroom">
        <h2>Steps to access the CodeIt micro:bit Python classroom:</h2>
        <ol>
          <li>Open the micro:bit classroom website <a href="https://microbit.org/join">here</a>. You should arrive at a page that looks like:<br>
          <img style="max-width: 600px" src="img/classroom_page.png">
          <li>Select our classroom name elements from the list. Our classroom name is<br>
          <img style="max-width: 600px" src="img/classroom_name.png">
          <li>The "Classroom Name" section on your website should look like the image below.<br>
          <img style="max-width: 600px" src="img/classroom_dropdown.png">
          <li>Enter the classroom PIN in the "PIN" section. Our PIN is <b>538143</b>.</li>
          <li>Move onto the next page by pressing "Continue" and enter your name.</li>
        </ol>

        <h2>Set up your Python editor</h2>
        <ol>
          <li>Press the "connect" tab and choose your micro:bit to connect it to the Python editor. <i>You must be connected to the computer using a USB cord.</i><br>
          <img style="max-width: 400px" src="img/connect_microbit.png">
          <li><b>Flash</b> the code onto your micro:bit to connect it. Do this by pressing the "flash" tab in the top left. <i>This will only show up if your micro:bit is connected to the editor (from the step above).</i><br>
          <img style="max-width: 400px" src="img/flash_code.png">
          <li>Now, you should be ready to code!</li>
        </ol>
      </google-codelab-step>

      <google-codelab-step label="Start coding">
        <p>Remember how we had to import the micro:bit extension in Scratch in order to control it in our program? We have to do something similar in Python. <b>At the top of every program that works with the micro:bit, you must include this line:</b><br> <code>from microbit import *</code>.<br>
          Let's dissect what each part of this line means. In general, in Python, <code>import</code> tells the script to add a <i>package</i>; this is comparable to adding an extension in Scratch. Sometimes we use the line <code>import [package]</code>, but in this case, we're using <code>from [package] import</code>. This is because we want to specify <i>what</i> we want to import from the package. In Python, using the asterisk in the import line, <code>*</code>, means "all." So what we're telling the program with <code>from microbit import *</code>, we're really saying, "take the microbit package and add all of its functions to my code."</cdoe></p>

        <p>We can now move onto the fun codelabs! Here are a few things to note before we dive in:</p>
        <ul>
          <li>Update your code/download it to your micro:bit by pressing the "Flash" tab in the upper-left-hand corner.</li>
          <li>Python is sensitive to leading white space. This means that if you want to add code within a loop or a conditional statement, you <b>must</b> indent it once further than the declaration of the loop or conditional statement.</li>
          <li>You can add <b>comments</b> in Python to explain what a piece of code is doing or to make notes for yourself. You can do this by adding a pound sign <code>#</code> in front of a line of code.<br>
          <img style="max-width: 400px" src="img/import_code_segment.png">
          <li>Check your micro:bit LEDs after flashing a piece of code to check for errors. It will flash words like "NameError" or "SyntaxError" if you have problems in your code. This means that you have some issue with what you've written. Try to find it and fix it, but if you're having trouble, ask your mentor.</li>
          <li>In Python, to create a variable, all you need to do is choose some name and then set it equal to a value (can be a number, a string/text surrounded by "" or '', or a function). For example if I wanted to keep track of the score, I could begin the program with <code>score = 0</code> and then increase it later in the program with <code>score += 1</code>. This would add one point to the score.</li>
        </ul>

        <h2>The functions you can use in Python with the micro:bit</h2>
        <p>You can go to this website, <a href="https://microbit-micropython.readthedocs.io/en/latest/microbit_micropython_api.html">the micro:bit Micropython API</a>, to find a list of functions that you can use and a description of what it does and examples of how to use them. On the side bar, you can click on which part of the micro:bit you want to operate and under "Functions," you'll find a webpage with all of the functions/actions that part can use.</p>

        <h3>Have fun!</h3>
        <p>Start with the Clapping Lights project with your breakout room. Afterwards, choose any of the other projects that sound interesting by pressing the slide from the list on the left side of this website.</p>
      </google-codelab-step>

    <google-codelab-step label="Clapping lights">
      <h2>Goal of this lab</h2>
      <p>Turn on all of the LEDs/some image on the LEDs when you clap once. The next time you clap, the lights should turn off.</p>

      <h3>Relevant functions</h3>
      <p>You will likely want to use the following functions in your code:</p>
      <ul>
        <li><code>display.show()</code> - this tells the LEDs to make a shape.</li>
        <li><code>Image()</code> - this tells the LEDs what shape to make. You control the brightness by the number in each spot (0 is off, 9 is the brightest). You must add 5 <i>strings</i> to specify the image, each one ending with a colon <code>:</code>.</li>
        <li><code>display.clear()</code> - turn all of the LEDs in the display off.</li>
        <li><code>microphone.was_event()</code> - listen to hear if the microphone detected a noise.</li>
        <li><code>SoundEvent.LOUD</code> - the microphone heard a LOUD sound.</li>
      </ul>

      <h3>Useful example</h3>
      <p>This image shows how to display three vertical lines on the micro:bit, where the first and third are brightest and the middle is at half-brightness.</p>
      <img style="max-width: 500px" src="img/display_image.png">

      <h3>Tips</h3>
      <ul>
        <li>Like in Scratch, Python only runs the code once unless otherwise specified. We used the <b>forever</b> loop a lot in Python. We can create the same "forever" loop in Python with the line <code>while True:</code>, which means that it will execute as long as <code>True</code> is true, which is always.</li>
        <li>Consider both the cases when the microphone hears a loud noise and when it doesn't.</li>
      </ul>

      <h3>Add your own spin to it</h3>
      <p>You can make this project your own by customizing different elements of the program. For example, you can change:</p>
      <ul class="checklist">
          <li>What the LEDs display once there's a clap.</li>
          <li>Display different shapes during the on and off periods (instead of just turing the lights on and off completely).</li>
          <li>Require two claps to change the light status.</li>
      </ul>

    </google-codelab-step>

    <google-codelab-step label="Name tag">
      <h2>Goal of this lab</h2>
      <p>Introduce yourself with the micro:bit. Have it flash your name.</p>

      <h3>Relevant functions</h3>
      <p>You will likely want to use the following functions in your code:</p>
      <ul>
        <li><code>display.scroll()</code> - this tells the LEDs write something in scrolling letters. This takes a <i>string</i>, or text that is surrounded by quotation marks.</li>
        <li><code>display.clear()</code> - turn off all of the LEDs.</li>
        <li><code>sleep(int)</code> - stop the micro:bit function for <i>int</i> amount of time (<code>int</code> should be a number) in milliseconds. 1000 milliseconds = 1 second. </li>
      </ul>

      <h3>Add your own spin to it</h3>
      <p>You can make this project your own by customizing different elements of the program. For example, you can change:</p>
      <ul class="checklist">
          <li>Choose to write a message other than your name.</li>
          <li>Display your name only after pressing a button. Try doing a specific button. You can also try to display it when pressing either button A OR B.</li>
      </ul>
    </google-codelab-step>

    <google-codelab-step label="Flashing your emotions">
      <h2>Goal of this lab</h2>
      <p>Flash a happy face on the display 5 times when the A button is pressed. Flash a sad face on the display when the B button is pressed.</p>

      <h3>Relevant functions</h3>
      <p>You will likely want to use the following functions in your code:</p>
      <ul>
        <li><code>display.show()</code> - this tells the LEDs to make a shape.</li>
        <li><code>Image.HAPPY</code> - tells the LEDs to show a smiley face.</li>
        <li><code>Image.SAD</code> - tells the LEDs to show a sade face.</li>
        <li><code>display.clear()</code> - turn all of the LEDs in the display off.</li>
        <li><code>button_a.is_pressed()</code> and <code>button_b.is_pressed()</code> - detect whether button A or B (respectively) have been pressed.</li>
        <li><code>sleep(int)</code> - stop the micro:bit function for <i>int</i> amount of time (<code>int</code> should be a number) in milliseconds. 1000 milliseconds = 1 second. </li>
      </ul>

      <h3>Add your own spin to it</h3>
      <p>You can make this project your own by customizing different elements of the program. For example, you can change:</p>
      <ul class="checklist">
          <li>Choose to display something other than the happy and sad faces. <code>Image()</code> might be a useful function for this.</li>
          <li>Flash quicker.</li>
          <li>Flash more than 5 times.</li>
      </ul>
    </google-codelab-step>

    <google-codelab-step label="Step counter">
      <h2>Goal of this lab</h2>
      <p>Have the micro:bit track how many steps you take. Create a steps variable and add to it every time a step was taken. Display the current steps.</p>

      <h3>Relevant functions</h3>
      <p>You will likely want to use the following functions in your code:</p>
      <ul>
        <li><code>display.show()</code> - this tells the LEDs to make a shape.</li>
        <li><code>accelerometer.was_gesture('shake')</code> - check if the micro:bit was shaken.</li>
      </ul>

      <h3>Add your own spin to it</h3>
      <p>You can make this project your own by customizing different elements of the program. For example, you can change:</p>
      <ul class="checklist">
          <li>Allow the user to reset the step counter.</li>
          <li>Show some kind of symbol for every 10 steps taken.</li>
      </ul>
    </google-codelab-step>

    <google-codelab-step label="Stopwatch">
      <h2>Goal of this lab</h2>
      <p>Create a stopwatch with your micro:bit. Start the timer when you touch the pin logo and stop it once it's pressed once more. After the clock is stopped, display how long it ran with scrolling text on the LEDs.</p>
      <img style="max-width: 300px" src="img/pin_logo.png">

      <h3>Relevant functions</h3>
      <p>You will likely want to use the following functions in your code:</p>
      <ul>
        <li><code>display.scroll()</code> - this tells the LEDs write something in scrolling letters. This takes a <i>string</i>, or text that is surrounded by quotation marks.</li>
        <li><code>pin_logo.is_touched()</code> - detects if the pin logo on the micro:bit was touched. Returns <code>True</code> if it was.</li>
        <li><code>running_time()</code> - reports how long the micro:bit has been running at the instant that it is called. In milliseconds.</li>
      </ul>

      <h3>Tips</h3>
      <ul>
        <li>Not all of the functions that you'll need are shown above. Use some of the functions from previous projects (other tabs) to complete your project.</li>
        <li><code>running_time()</code> does not change automatically. To check how much it has been updated, it needs to be called again.</li>
        <li><code>running_time()</code> is in <b>milliseconds</b>. To get the time in seconds, divide by 1000.</li>
      </ul>

      <h3>Add your own spin to it</h3>
      <p>You can make this project your own by customizing different elements of the program. For example, you can change:</p>
      <ul class="checklist">
        <li>Start the timer by pressing one button and stop the timer by pressing another. Show the time it ran for by pressing the pin logo.</li>
        <li>Display something on the LEDs while the timer is running to indicate that it is.</li>
      </ul>
    </google-codelab-step>

    <google-codelab-step label="Report the temperature">
      <h2>Goal of this lab</h2>
      <p>Display the current temperature that the micro:bit is sensing with the LEDs.</p>

      <h3>Relevant functions</h3>
      <p>You will likely want to use the following function in your code:</p>
      <ul>
        <li><code>temperature()</code> - returns the current temperature, in Celsius.</li>
      </ul>

      <h3>Tips</h3>
      <ul>
        <li>Not all of the functions that you'll need are shown above. Use some of the functions from previous projects (other tabs) to complete your project.</li>
        <li>Check if the temperature changes reliably by putting the micro:bit in front of a fan or near a hot place.</li>
      </ul>

      <h3>Add your own spin to it</h3>
      <p>You can make this project your own by customizing different elements of the program. For example, you can change:</p>
      <ul class="checklist">
        <li>Keep track of the highest and lowest temperatures you've seen so far. Display the lowest when the A button is pressed and the highest when the B button is pressed.</li>
        <li>Change the temperature to Fahrenheit. Look up the conversion online.</li>
      </ul>
    </google-codelab-step>

    <google-codelab-step label="Nightlight">
      <h2>Goal of this lab</h2>
      <p>Turn on all of the LEDs when the micro:bit is in a dark room. Turn off all of the LEDs when the room is bright again.</p>

      <h3>Relevant functions</h3>
      <p>You will likely want to use the following function in your code:</p>
      <ul>
        <li><code>display.read_light_level()</code> - returns the light exposure it detects; the lower the number, the darker the room.</li>
      </ul>

      <h3>Tips</h3>
      <ul>
        <li>Not all of the functions that you'll need are shown above. Use some of the functions from previous projects (other tabs) to complete your project.</li>
        <li>Try using 100 as a baseline light level for a dark room, but this might need to be changed depending on where you are.</li>
      </ul>

      <h3>Add your own spin to it</h3>
      <p>You can make this project your own by customizing different elements of the program. For example, you can change:</p>
      <ul class="checklist">
        <li>Display something other than turning all of the LEDs on as bright as possible. Maybe a moon or flashing all the lights?</li>
      </ul>
    </google-codelab-step>

    <google-codelab-step label="Compass">
      <h2>Goal of this lab</h2>
      <p>Use the <i>compass</i> element of the micro:bit to display the direction that it is pointed towards on the LEDs.</p>

      <h3>Relevant functions</h3>
      <p>You will likely want to use the following function in your code:</p>
      <ul>
        <li><code>compass.calibrate()</code> - calibrates/tunes the internal compass of the micro:bit to make sure the readings are accurate.</li>
        <li><code>compass.heading()</code> - returns the degree that the micro:bit is pointed toward. There are 360 degrees total.</li>
      </ul>

      <h3>Tips</h3>
      <ul>
        <li>Not all of the functions that you'll need are shown above. Use some of the functions from previous projects (other tabs) to complete your project.</li>
        <li>Use the following degree ranges to correlate to directions (assume that <i>x</i> is the reading from the compass):<br>
        <ul>
          <li>North: x < 45 or x > 315</li>
          <li>East: 45 < x < 135</li>
          <li>South: 135 < x < 225</li>
          <li>West: 225 < x < 315</li>
        </ul>
        <img style="max-width: 500px" src="img/compass.png">
      </ul>

      <h3>Add your own spin to it</h3>
      <p>You can make this project your own by customizing different elements of the program. For example, you can change:</p>
      <ul class="checklist">
        <li>Add more specific directions, such as NE, SE, SW, NW, according to the degrees in the image of the compass above. Determine the new ranges you need.</li>
        <li>Add symbols to represent directions.</li>
      </ul>
    </google-codelab-step>

    <google-codelab-step label="Sound-o-meter">
      <h2>Goal of this lab</h2>
      <p>Display how loud the noise around the micro:bit is with a bar on the LEDs. If the sound is the loudest it could possibly be, all of the LEDs should be lit up. If it is in the mid-range of noise, then the bottom three horizontal lines of lights should be on. If it is dead silent, none of the LEDs should be on.</p>

      <h3>Relevant functions</h3>
      <p>You will likely want to use the following function in your code:</p>
      <ul>
        <li><code>microphone.sound_level()</code> - returns a number representing how loud the current sound is. 0 is dead silent, 255 is the loudest possible reading.</li>
        <li><code>Image()</code> - tell the LEDs what to display with 5 strings of numbers, each ending with a colon <code>:</code>.</li>
      </ul>

      <h3>Tips</h3>
      <ul>
        <li>Not all of the functions that you'll need are shown above. Use some of the functions from previous projects (other tabs) to complete your project.</li>
        <li>You will want to create 5 possible images to use:<br>
        <ul>
          <li>One for the quietest sound level, no sound. No LEDs should be on.</li>
          <li>One for the second quietest sound level. The bottom 5 LEDs should be on.</li>
          <li>One for each of the increments of noise increasing from the one above. Each increment should turn on one line of LEDs.</li>
          <li>The loudest sound increment should have all of the LEDs on.</li>
        </ul>
        <li>(It is recommended to do this with your breakout room) Because we can only display 5 lines of LEDs, not 256, you should make a separate function to correlate the sound level to the correct interval. You can scale the sound with the following algorithm:<br>
        <ol>
          <li>Determine how many possibilities there are for sound levels read by the <code>microphone.sound_level()</code>. Store this in some variable.</li>
          <li>Determine how many graph possibilities there are (how many configurations you want there to be with displaying the LEDs). Store this in a different variable.</li>
          <li>Take the current reading and scale it. This is done by subtracting the minimum sound reading possible from this reading. Then divide by all of the possible values that the microphone could have read in (value from step 1).</li>
          <li>Multiply this scaled value from step 3 by the whole range we want it to be on (number from step 2). Add this to the minimum number of rows of LEDs we want lit.</li>
          <li>This process will give you how many rows of LEDs should be lit.</li>
        </ol>
        <li>You can make a <i>list</i> of all of the graphs by setting the <code>Image()</code> configurations to variables, such as <code>graph0</code>, <code>graph1</code>, etc. and setting them all as follows:<br>
          <code>all_graphs = [graph0, graph1, graph2, graph3, graph4, graph5]</code>.</li>
      </ul>

      <h3>Add your own spin to it</h3>
      <p>You can make this project your own by customizing different elements of the program. For example, you can change:</p>
      <ul class="checklist">
        <li>Try to make the sound-o-meter a horizontal graph rather than a vertical graph.</li>
        <li>Add smaller increments and instead of using straight lines, expand a few LEDs at a time from the corner or center. This would be like a "growing circle" or something similar.</li>
      </ul>
    </google-codelab-step>

    <google-codelab-step label="Metronome">
      <h2>Goal of this lab</h2>
      <p>Have your micro:bit act as a metronome to help you practice your music. It should make a sound once a measure at whatever tempo you want.</p>

      <h3>Relevant functions</h3>
      <p>You will likely want to use the following function in your code:</p>
      <ul>
        <li><code>music.set_tempo(bpm=int)</code> - defines the music class with a certain BPM (beats per minute) at the desired tempo (<code>int</code>).</li>
        <li><code>music.play([])</code> - have the micro:bit make noise at a certain pitch for a given duration. For example, to play the note C for one beat and then to rest for 3, this function would be <code>music.play(["C4:1", "r:3"])</code> where "C4" is the note "C" and it plays for one beat (":1"), and "r" means rest for 3 beats (":3").</li>
      </ul>

      <h3>Tips</h3>
      <ul>
        <li>Not all of the functions that you'll need are shown above. Use some of the functions from previous projects (other tabs) to complete your project.</li>
        <li>You will need to import the music package. You can do this by including this line at the top of your code: <code>import music</code>.</li>
      </ul>

      <h3>Add your own spin to it</h3>
      <p>You can make this project your own by customizing different elements of the program. For example, you can change:</p>
      <ul class="checklist">
        <li>Have the metronome tick for more than one beat per measure.</li>
        <li>Allow someone with the micro:bit to change the tempo. Make sure that your tempo is a variable.</li>
        <li>Display the current tempo with the LEDs.</li>
      </ul>
    </google-codelab-step>

    <google-codelab-step label="micro:bit Pet">
      <h2>Goal of this lab</h2>
      <p>Create your own little micro:bit pet. Have your micro:bit smile when you give it attention (by touching the pin logo). It should giggle when you shake the micro:bit. It should be sad if you don't play with it for 10 seconds. It should get tired and yawn if you don't play for 15 seconds. It should die if you don't play with it for 20 seconds. It should wake back up and smile if you touch it again!</p>

      <h3>Relevant functions</h3>
      <p>You will likely want to use the following function in your code:</p>
      <ul>
        <li><code>display.show()</code> - makes the LEDs turn on in the configuration you add.<br>
        <ul>
          <li><code>Image.HAPPY</code> - turn the LEDs on to a smiley face.</li>
          <li><code>Image.SAD</code> - turn the LEDs on to a sad face.</li>
          <li><code>Image.SURPRISED</code> - turn the LEDs on to a surprised face.</li>
          <li><code>Image.ASLEEP</code> - turn the LEDs on to a sleeping face.</li>
          <li><code>Image.SKULL</code> - turn the LEDs on to a skull.</li>
        </ul>
        <li><code>accelerometer.was_gesture('shake')</code> - detects if the micro:bit was shaken.</li>
        <li><code>audio.play()</code> - make the given noise.<br>
        <ul>
          <li><code>Sound.HAPPY</code> - make a noise showing that the micro:bit pet is happy.</li>
          <li><code>Sound.GIGGLE</code> - make a noise showing that the micro:bit pet is giggling.</li>
          <li><code>Sound.SAD</code> - make a noise showing that the micro:bit pet is upset.</li>
          <li><code>Sound.YAWN</code> - make a noise showing that the micro:bit pet is tired.</li>
          <li><code>Sound.MYSTERIOUS</code> - make a scary noise to show that the micro:bit pet died.</li>
        </ul>
      </ul>

      <h3>Tips</h3>
      <ul>
        <li>Not all of the functions that you'll need are shown above. Use some of the functions from previous projects (other tabs) to complete your project.</li>
        <li>You will need to import the audio package to make noise. You can do this by including this line at the top of your code: <code>import audio</code>.</li>
        <li>Make sure to keep track of time, either with <code>running_time()</code> or <code>sleep(int)</code> and <code>timer += int</code>.</li>
      </ul>

      <h3>Add your own spin to it</h3>
      <p>You can make this project your own by customizing different elements of the program. For example, you can change:</p>
      <ul class="checklist">
        <li>Mess around with other possibilities for how to play with your pet.</li>
        <li>Explore what other sounds exist in the audio.Sound library.</li>
        <li>Try adding different gestures to the code.</li>
      </ul>
    </google-codelab-step>

  </google-codelab>

  <script>
    (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
    (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
    m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
    })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
    ga('create', 'UA-49880327-14', 'auto');

    (function() {
      var gaCodelab = '';
      if (gaCodelab) {
        ga('create', gaCodelab, 'auto', {name: 'codelab'});
      }

      var gaView;
      var parts = location.search.substring(1).split('&');
      for (var i = 0; i < parts.length; i++) {
        var param = parts[i].split('=');
        if (param[0] === 'viewga') {
          gaView = param[1];
          break;
        }
      }
      if (gaView && gaView !== gaCodelab) {
        ga('create', gaView, 'auto', {name: 'view'});
      }
    })();
  </script>

</body>
</html>
