<!DOCTYPE html>

<html>
  <head>
    <meta
      name="viewport"
      content="width=device-width, minimum-scale=1.0, initial-scale=1.0, user-scalable=yes"
    />
    <meta name="theme-color" content="#4F7DC9" />
    <meta charset="UTF-8" />
    <title>Teachable Machine Codelab</title>
    <script src="../../bower_components/webcomponentsjs/webcomponents-lite.min.js"></script>
    <link rel="import" href="../../elements/codelab.html" />
    <link
      rel="stylesheet"
      href="https://fonts.googleapis.com/css?family=Source+Code+Pro:400|Roboto:400,300,400italic,500,700|Roboto+Mono"
    />
    <link rel="icon" href="../../elements/favicon.png" />
    <style>
      body {
        font-family: "Roboto", sans-serif;
      }
    </style>
  </head>
  <body unresolved class="fullbleed">
    <google-codelab
      title="Teachable Machine Codelab"
      feedback-link="https://goo.gl/forms/9zDi1V3arg167lIY2"
    >
      <google-codelab-step label="Overview">
        <p>
          In this codelab, you'll make your own machine learning model and
          integrate it into your own Scratch project!
        </p>
        <img src="img/demo-project.gif" style="max-width: 500px" />
        <h3 class="checklist">What you&#39;ll learn</h3>
        <ul class="checklist">
          <li>
            Use <b>conditional (if) </b> blocks to check for class
            identification.
          </li>
          <li>
            Use <b>Teachable Machines</b> to make a machine learning model.
          </li>
        </ul>
      </google-codelab-step>

      <google-codelab-step label="Note about Project Format">
        <p>
          There will be no remixable Scratch workspace for this project because
          it involves technology that is not yet compatible with Scratch. You
          currently are unable to immediately save to your workspace.
        </p>
        <p>
          That being said, there is a way to still save your project, which will
          be explained later on.
        </p>
      </google-codelab-step>

      <google-codelab-step label="Create your Learning Model">
        <p>
          First, we are going to make our own machine learning model using
          Teachable Machines.
        </p>

        <aside class="callout">
          <h2>Supervised Learning</h2>
          <p>
            <b>Supervised learning</b> is a type of machine learning that
            "learns" a method for predicting output based on input.
          </p>
          <p>
            The reason it is <b>supervised</b> is because it uses a labeled
            dataset. An example of a labeled dataset is a collection of images
            of dogs that have specifically been labeled as "dog". Another
            example is a collection of text files that have all been labeled as
            "knock knock jokes".
          </p>
          <p>
            We will not be able to go in-depth into machine learning, but we
            hope that Teachable Machines helps you better see what it is.
          </p>
        </aside>

        <h2>Steps</h2>
        <ol>
          <li>
            Navigate to
            <a href="https://teachablemachine.withgoogle.com/" target="_blank"
              >this link</a
            >.
          </li>
          <li>
            Go the menu bar in the top left corner of your screen, and click on
            "New Project".<br />
            <img src="img/menu-icon.png" style="max-width: 60px" /><br />
            <img src="img/new-project-btn.png" style="max-width: 350px" />
          </li>
          <li>
            Click on "Image Project". <br /><img
              src="img/image-project-btn.png"
              style="max-width: 200px"
            />
          </li>
          <li>
            There are two types of image inputs you can use for this project:
            <ul>
              <li>Images from your webcam</li>
              <li>Images that are files on your computer</li>
            </ul>
            Feel free to choose the image input type that appeals more to you.
            If you run into any issues with your webcam, we recommend you use
            image files rather than your webcam.
          </li>
        </ol>
      </google-codelab-step>

      <google-codelab-step label="Webcam Data Collection">
        <p>
          In this section, you're going to import data from your webcam to train
          your very own learning model with!
        </p>
        <p>
          <b
            >If your webcam is not working, please move to the next page to
            learn about how to import image files as your data.</b
          >
        </p>

        <aside class="callout">
          <h2>Data</h2>
          <p>
            You probably already know what data is. <b>Data</b> is just
            information that is used for some purpose. In Teachable Machines,
            data is used to <b>train your model</b>.
          </p>
        </aside>

        <aside class="callout">
          <h2>Note about Data Collection</h2>
          <p>
            In the following steps, we'll be explaining how to train your model
            to detect when you have your hand raised and when you do not.
          </p>
          <p>
            In order for your learning model to be as accurate as possible, you
            should make sure that your data fits the following qualifications:
          </p>
          <ul>
            <li>
              Take images from <b>all angles</b> (like rotating your head and/or
              body)
            </li>
            <li>Collect at least <b>100 images</b> for each class</li>
            <li>Take similar numbers of images for each class</li>
          </ul>
        </aside>

        <h2>Steps</h2>
        <ol>
          <li>
            You should be at a page that looks like this:<br />
            <img src="img/start_page.png" style="max-width: 500px" />
          </li>
          <li>
            We'll start with you <b>not</b> raising your hand. Under Class 1,
            click "Webcam" and hold down on "Hold to Record" to take images.<br />
            <img src="img/webcam.png" style="max-width: 60px" /><br />
            <img src="img/hold_to_record.png" style="max-width: 170px" /><br />
            <img src="img/hand-down-class.png" style="max-width: 350px" />
          </li>
          <li>
            Repeat the previous step, but this time with your hand raised and
            under Class 2. It should look something like this: <br />
            <img src="img/hand-up-class.png" style="max-width: 350px" />
          </li>
          <li>
            Finally, label your two classes to be appropriately descriptive
            (i.e. "Normal" and "Hand Raised") by clicking on the pencil icon by
            the class name. <br />
            <img src="img/pencil-icon.png" style="max-width: 100px" />
          </li>
        </ol>
      </google-codelab-step>

      <google-codelab-step label="Image File Data Collection">
        <p>
          In this section, we're going to go over how to use image files as your
          data to train your model.
        </p>
        <p>
          <b>
            If you already have collected data through your webcam, please move
            onto the next page.
          </b>
        </p>
        <p>
          In the following steps, we'll be explaining how to train your model to
          detect when you have your hand raised and when you do not. This is
          just an example of two classes you could make.
        </p>

        <h2>Steps:</h2>
        <ol>
          <li>
            Before you start the data collection, you're going to need to move
            the image files to your Google Drive. Go to this
            <a
              href="https://drive.google.com/drive/folders/1uCNnUd0xm6Hv9h_90iw79P95vH6MNIS3?usp=sharing"
              target="_blank"
              >link</a
            >.
          </li>
          <li>
            Right click on "CodeIt Teachable Machines Image Files".<br />
            <img src="img/img-folder.png" style="max-width: 500px" />
          </li>
          <li>
            Click on "Add shortcut to Drive" in the popup menu.<br />
            <img src="img/add-shortcut.png" style="max-width: 200px" />
          </li>
          <li>
            Go back to the Teachable Machines tab. You should be at a page that
            looks like this:<br />
            <img src="img/start_page.png" style="max-width: 500px" />
          </li>
          <li>
            For Class 1, click on the "Upload" button. <br />
            <img src="img/upload-btn.png" style="max-width: 90px" />
          </li>
          <li>
            Next, click "Import images from Google Drive". <br />
            <img src="img/import-imgs-btn.png" style="max-width: 200px" />
          </li>
          <li>
            Double click into "CodeIt Teachable Machines Image Files". If it
            doesn't appear at the top, search for it in the search bar.<br />
            <img src="img/google-drive-search.png" style="max-width: 500px" />
          </li>
          <li>Select the "Class 1 Training Dataset" folder.</li>
          <li>
            Repeat steps 5 - 8 but for Class 2 and using the "Class 2 Training
            Dataset" folder. By this point, your two classes should look
            something like this: <br />
            <img
              src="img/both-classes.png"
              style="max-width: 200px"
              alt="screenshot of 2 classes with images"
            />
          </li>
          <li>
            Finally, label your two classes to be appropriately descriptive
            (i.e. "Normal" and "Hand Raised") by clicking on the pencil icon by
            the class name. <br />
            <img src="img/pencil-icon.png" style="max-width: 100px" />
          </li>
        </ol>
      </google-codelab-step>

      <google-codelab-step label="How to Train your Model">
        <h2>Steps:</h2>
        <ol>
          <li>
            Now that you've collected all your training data (whether that be
            through your webcam or with image files), click the "Train Model"
            button. Make sure to <b>not switch tabs</b> while you're doing
            this!<br />
            <img src="img/train-model-btn.png" style="max-width: 200px" />
          </li>
          <li>
            Now it's time to test the model you've created! The output shows how
            confident your model is in its prediction. Notice that the model
            only recognizes the classes you've provided.<br />
            <img src="img/output-demo.png" style="max-width: 300px" />
          </li>
        </ol>
      </google-codelab-step>

      <google-codelab-step label="Exporting your Model">
        <p>
          Next, you're going to learn how to export your model so you can use it
          in your Scratch project.
        </p>
        <h2>Steps:</h2>
        <ol>
          <li>
            After training and testing your model, click the "Export Model"
            button.<br />
            <img src="img/export-model-btn.png" style="max-width: 200px" />
          </li>
          <li>
            Make sure you're in the "Tensorflow.js" tab and that "Upload
            (shareable link)" is selected. This should be the default setting so
            you shouldn't have to change anything.<br />
            <img src="img/tensorflow.png" style="max-width: 400px" />
          </li>
          <li>
            Click the "Upload my model" button to get a shareable link of your
            model. You need to press the "Update my cloud model" button if you
            make changes to your model after this export.
          </li>
          <li>
            Copy the shareable link by clicking the "Copy" button under the
            "Your sharable link" section.<br />
            <img src="img/export-model.png" style="max-width: 600px" />
          </li>
        </ol>
      </google-codelab-step>

      <google-codelab-step label="Adding your Model to Scratch">
        <p>
          It's finally time to add the model you've made and integrate it into
          Scratch!
        </p>
        <h2>Steps:</h2>
        <ol>
          <li>
            Navigate to this
            <a
              href="https://mitmedialab.github.io/prg-extension-boilerplate/create/"
              target="_blank"
              >link</a
            >. The web tool you are working with is not optimized for the
            traditional Scratch experience. Consequentially, you will not be
            able to remix this project or save it to your account immediately.
            There's a separate process for saving this project, which you'll go
            over later on.
          </li>
          <li>
            On the bottom left corner, click the Extensions button.<br />
            <img src="img/extensions-btn.png" style="max-width: 50px" />
          </li>
          <li>
            Click the first extension "Teachable Machine", which should
            automatically add the extension for you and bring you back to the
            original Scratch page. (Make sure to allow camera access if
            possible!) <br />
            <img src="img/tm-extension.png" style="max-width: 200px" />
          </li>
          <li>
            Click into the "Teachable Machine" section.<br />
            <img src="img/tm-scratch.png" style="max-width: 60px" />
          </li>
          <li>
            Paste the link for the shareable link for your learning model into
            the "use model" block.
            <b
              >You do NOT need to drag the block into your workspace. Pasting
              the link into this block will "load" the model into your whole
              Scratch project.</b
            >
          </li>
          <li>
            Wait for a green arrow to appear next to the "Teachable Machine"
            title. <br />
            <img src="img/tm-block.png" style="max-width: 200px" />
          </li>
          <li>
            To test your model out, check the "model prediction" block. A box
            labeled "Teachable Machine: model prediction" will pop in the
            landing area and indicate what your model predicts.<br />
            <img
              src="img/model-prediction-scratch.png"
              style="max-width: 250px"
            /><br />
            <img src="img/model-prediction.png" style="max-width: 400px" />
          </li>
        </ol>
      </google-codelab-step>

      <google-codelab-step label="Making a Sprite Move">
        <p>
          Next, we're going to program your "Sprite1" to move depending on
          whether you're raising your hand or not.
        </p>

        <aside class="callout">
          <h2>Explaining the Teachable Machine Blocks</h2>
        </aside>

        <h2>Steps:</h2>
        <ol>
          <li>Keep the sprite moving forever</li>
          <li>
            Use the prediction outcome of your model to move the sprite 2 steps
            at a time. <br />
            <img src="img/move.png" style="max-width: 60px" />
          </li>
        </ol>
      </google-codelab-step>

      <google-codelab-step label="Your Turn!">
        <p>
          So far, this tutorial has shown you how to make a model that predicts
          whether or not you have your hand raised. Now, it's your turn. If you
          want to, create a classifier for yourself that detects something else
          (i.e. whether you have your thumbs up or down, different colors,
          etc.). You can use the same one, but try to be creative with what your
          model can predict!
        </p>
      </google-codelab-step>
    </google-codelab>

    <script>
      (function (i, s, o, g, r, a, m) {
        i["GoogleAnalyticsObject"] = r;
        (i[r] =
          i[r] ||
          function () {
            (i[r].q = i[r].q || []).push(arguments);
          }),
          (i[r].l = 1 * new Date());
        (a = s.createElement(o)), (m = s.getElementsByTagName(o)[0]);
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m);
      })(
        window,
        document,
        "script",
        "//www.google-analytics.com/analytics.js",
        "ga"
      );
      ga("create", "UA-49880327-14", "auto");

      (function () {
        var gaCodelab = "";
        if (gaCodelab) {
          ga("create", gaCodelab, "auto", { name: "codelab" });
        }

        var gaView;
        var parts = location.search.substring(1).split("&");
        for (var i = 0; i < parts.length; i++) {
          var param = parts[i].split("=");
          if (param[0] === "viewga") {
            gaView = param[1];
            break;
          }
        }
        if (gaView && gaView !== gaCodelab) {
          ga("create", gaView, "auto", { name: "view" });
        }
      })();
    </script>
  </body>
</html>
